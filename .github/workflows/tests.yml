name: ğŸ§ª Run Tests

on:
  push:
    branches: [ main, '**' ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    name: Run Jest tests
    runs-on: ubuntu-latest

    steps:
      # 1ï¸âƒ£ RÃ©cupÃ¨re le code
      - name: ğŸ§° Checkout repository
        uses: actions/checkout@v4

      # 2ï¸âƒ£ Installe Node.js
      - name: âš™ï¸ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20

      # 3ï¸âƒ£ Installe les dÃ©pendances
      - name: ğŸ“¦ Install dependencies
        run: npm ci

      # 4ï¸âƒ£ Lance les tests avec Jest
      - name: ğŸ§ª Run Jest tests
        run: npm test -- --ci --colors
